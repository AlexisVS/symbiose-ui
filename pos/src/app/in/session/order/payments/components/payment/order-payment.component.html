<section>
    <div class="header">
        <!-- <h2>Payment {{instance.id}}</h2> -->
        <span style="font-size: 1.15rem; font-weight: bold;">Dû: {{instance.total_due}}</span>    
        <span style="color: darkgreen; font-size: 1.15rem; font-weight: bold;">Reçu: {{instance.total_paid}}</span> 
        <div>
            <!-- <button (click)="onDisplayProducts()" mat-mini-fab color="accent"><mat-icon>info</mat-icon></button> -->
            <button mat-mini-fab color="accent" (click)="onclickDelete()"><mat-icon>delete</mat-icon></button>
        </div> 
        
    </div>
    
    <!-- <div class="row">
        <h3>Details</h3>   
    </div> -->
    <div *ngIf="display !='products'">
        <div style="display: flex; margin: 0.25rem; display: flex; align-items: center;"><h3 style="max-height: fit-content;">Encaissements</h3> <button mat-mini-fab color="accent" (click)="onclickCreateNewPart()"><mat-icon>add</mat-icon> </button></div>
        <ng-container *ngFor="let part of instance.order_payment_parts_ids; index as i">
            
            <session-order-payments-payment-part
                [model]="part"
                (updated)="onupdatePart(part.id)"
                (deleted)="ondeletePart(part.id)"
                (validated)="onvalidate(part)"
                (click)="onSelectedPaymentPart(i)"
            ></session-order-payments-payment-part>
            
        </ng-container>
    </div>
    <div class="row" *ngIf="display =='products'">
        <div>
            <!-- <div class="line-header">
                <div>name</div>
                <div>unit_price</div>
                <div>qty</div>
            </div> -->
            <ng-container *ngFor="let line of instance.order_lines_ids; index as i">
            
                <session-order-payments-order-line
                    [model]="line"
                    (deleted)="ondeleteLine(line.id)"                    
                ></session-order-payments-order-line>

            </ng-container>
        </div>
    </div>
</section>
