<<<<<<< HEAD
<section>
    <div class="header">
        <!-- <h2>Payment {{instance.id}}</h2> -->
        <span style="font-size: 1.15rem; font-weight: bold;">Dû: {{instance.total_due}}</span>    
        <span style="color: darkgreen; font-size: 1.15rem; font-weight: bold;">Reçu: {{instance.total_paid}}</span> 
=======
<h2>Payment {{instance.id}}</h2>

<div class="row">
    <div><h3>Details</h3></div>
    <div>Dû: {{instance.total_due}}</div>
    <div>Reçu: {{instance.total_paid}}</div>
    <div>
        <button mat-mini-fab color="accent" (click)="onclickDelete()"><mat-icon>delete</mat-icon></button>
    </div>

    
    <button mat-mini-fab color="accent" (click)="onclickOk()"><mat-icon>add</mat-icon> </button>
</div>
<div>
    
    <div style="display: flex"><h3>Encaissements</h3> <button mat-mini-fab color="accent" (click)="onclickCreateNewPart()"><mat-icon>add</mat-icon> </button></div>
    <ng-container *ngFor="let part of instance.order_payment_parts_ids">
        
        <session-order-payments-payment-part
            [model]="part"
            (updated)="onupdatePart(part.id)"
            (deleted)="ondeletePart(part.id)"
        ></session-order-payments-payment-part>

    </ng-container>
</div>
<div class="row">

    <mat-accordion>
    <mat-expansion-panel >
        <mat-expansion-panel-header>
        <mat-panel-title>
            Lignes
        </mat-panel-title>
        <mat-panel-description>
            lignes de commande assignées au paiement
        </mat-panel-description>
        </mat-expansion-panel-header>

>>>>>>> 7b64164ddbb2cdf43cbe92bfe247c7d8c8cd6bf9
        <div>
            <button (click)="onDisplayProducts()" mat-mini-fab color="accent"><mat-icon>info</mat-icon></button>
            <button mat-mini-fab color="accent" (click)="onclickDelete()"><mat-icon>delete</mat-icon></button>
        </div> 
        
    </div>
    
    <!-- <div class="row">
        <h3>Details</h3>   
    </div> -->
    <div *ngIf="display !='products'">
        <div style="display: flex; margin: 0.25rem; display: flex; align-items: center;"><h3 style="max-height: fit-content;">Encaissements</h3> <button mat-mini-fab color="accent" (click)="onclickCreateNewPart()"><mat-icon>add</mat-icon> </button></div>
        <ng-container *ngFor="let part of instance.order_payment_parts_ids; index as i">
            <mat-accordion>
                <mat-expansion-panel >
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                    </mat-panel-title>
                    <mat-panel-description>
                      <b>Montant: {{part.amount}}</b>
                    </mat-panel-description>
                    </mat-expansion-panel-header>
            <session-order-payments-payment-part
                [model]="part"
                (updated)="onupdatePart(part.id)"
                (deleted)="ondeletePart(part.id)"
                (click)="onSelectedPaymentPart(i)"
            ></session-order-payments-payment-part>
            </mat-expansion-panel>
        </mat-accordion>
        </ng-container>
    </div>
    <div class="row" *ngIf="display =='products'">
        <div>
            <!-- <div class="line-header">
                <div>name</div>
                <div>unit_price</div>
                <div>qty</div>
            </div> -->
            <ng-container *ngFor="let line of instance.order_lines_ids; index as i">
            
                <session-order-payments-order-line
                    [model]="line"
                    (deleted)="ondeleteLine(line.id)"
                    
                ></session-order-payments-order-line>

            </ng-container>
        </div>
<<<<<<< HEAD
    </div>
</section>
=======


    </mat-expansion-panel>
    </mat-accordion>

</div>
>>>>>>> 7b64164ddbb2cdf43cbe92bfe247c7d8c8cd6bf9
