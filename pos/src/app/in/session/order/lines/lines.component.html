<div class="overlay-container" *ngIf="!ready"><mat-spinner></mat-spinner></div>

<div class="container" *ngIf="ready">
    <div class="header">Session › {{session.name}} <small>{{session.id}}</small> › Commandes en cours</div>
    <div class="body">
        <div class="actions">
            <div class="actions-std"><button mat-flat-button color="accent" (click)="onclickCreateNewLine()">Nouvelle ligne</button></div>
            <div class="actions-view"></div></div>
            
        <div class="view">
            <h2>Order {{instance.id}}</h2>            
            <div *ngIf="session.status != 'pending'">Cette sesion n'est plus active.</div>
            <div *ngIf="session.status == 'pending'">

                <div>{{instance.id}}</div>
                <div>{{instance.created |  date}}</div>
                <div>{{instance.price |  currency}}</div>
                <div>{{instance.total |  currency}}</div>
                <ng-container *ngFor="let line of instance.order_lines_ids">
                    
                    <session-order-lines-order-line
                        [model]="line"
                        (updated)="onupdateLine(line.id)"
                        (deleted)="ondeleteLine(line.id)"
                    ></session-order-lines-order-line>

                </ng-container>
            </div>
        </div>
    </div>    
</div>